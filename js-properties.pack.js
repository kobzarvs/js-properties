(function(){var h=[].indexOf||function(b){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===b)return c;return-1},i={}.hasOwnProperty,j=function(b,c){function d(){this.constructor=b}for(var a in c)i.call(c,a)&&(b[a]=c[a]);d.prototype=c.prototype;b.prototype=new d;b.__super__=c.prototype;return b};exports.Properties=function(){function b(){}var c;b.name="Properties";c="get set before_get after_get before_set after_set".split(" ");b.prototype.property=function(d,a){var g,b,e;if(0<=h.call(c,d))return null;
null==a.get&&(a.get=function(){return this._prop[d]});null==a.set&&(a.set=function(a){return this._prop[d]=a});b=0;for(e=c.length;b<e;b++)g=c[b],null!=a[g]&&(a[g]=a[g].bind(this));null==this._prop&&(this._prop={});this._prop[d]=null;Object.defineProperty(this,d,{get:function(){var b;typeof a.before_get==="function"&&a.before_get();b=a.get();typeof a.after_get==="function"&&a.after_get();return b},set:function(b){typeof a.before_set==="function"&&a.before_set(b);a.set(b);typeof a.after_set==="function"&&
a.after_set(b);return b}});return this._prop};b.prototype.create_context=function(){return new (function(b){function a(){return a.__super__.constructor.apply(this,arguments)}j(a,b);return a}(b))};b.prototype.properties=function(b){var a,c,f,e;e=[];for(a in b)f=b[a],"object"===typeof f?(c=this.property(a,f),null!=c?(c[a]=this.create_context(),this.properties.call(c[a],f),c[a]._prop?e.push(void 0):e.push(c[a]=null)):e.push(void 0)):e.push(void 0);return e};b.prototype.to_JSON=function(){var b,a,c,f;
if(null==this._prop)return null;b={};f=this._prop;for(a in f)c=f[a],b[a]="object"===typeof c?this.to_JSON.call(c):c;return b};return b}()}).call(this);
