(function(){var i=[].indexOf||function(a){for(var c=0,e=this.length;c<e;c++)if(c in this&&this[c]===a)return c;return-1},j={}.hasOwnProperty,k=function(a,c){function e(){this.constructor=a}for(var b in c)j.call(c,b)&&(a[b]=c[b]);e.prototype=c.prototype;a.prototype=new e;a.__super__=c.prototype;return a};this.Properties=function(){function a(){}var c;a.name="Properties";c="cookie get set before_get after_get before_set after_set".split(" ");a.prototype.property=function(e,b){var a,d,f;if(0<=i.call(c,
e))return null;null==b.get&&(b.get=function(){return this._prop[e]});null==b.set&&(b.set=function(b){return this._prop[e]=b});d=0;for(f=c.length;d<f;d++)a=c[d],null!=b[a]&&"function"===typeof b[a]&&(b[a]=b[a].bind(this));null==this._prop&&(this._prop={});this._prop[e]=null;Object.defineProperty(this,e,{get:function(){var a;b.cookie!=null&&(this._prop[e]=$.cookie(b.cookie.context));typeof b.before_get==="function"&&b.before_get();a=b.get();typeof b.after_get==="function"&&b.after_get();return a},set:function(a){typeof b.before_set===
"function"&&b.before_set(a);b.set(a);typeof b.after_set==="function"&&b.after_set(a);b.cookie!=null&&$.cookie(b.cookie.context,a);return a}});return this._prop};a.prototype.create_context=function(){return new (function(a){function b(){return b.__super__.constructor.apply(this,arguments)}k(b,a);return b}(a))};a.prototype.cookies=function(a){return this.properties(a,!0)};a.prototype.properties=function(a,b,c){var d,f,h,g;null==b&&(b=!1);null==c&&(c=this.name);console.log("context: "+c);g=[];for(d in a)h=
a[d],"object"===typeof h?(f=this.property(d,h),null!=f?(f[d]=this.create_context(),this.properties.call(f[d],h,b,c+"."+d),f[d]._prop?g.push(void 0):b?(h.cookie={context:c+"."+d},g.push(f[d]=$.cookie(h.cookie.context))):g.push(f[d]=null)):g.push(void 0)):g.push(void 0);return g};a.prototype.to_JSON=function(){var a,b,c,d;if(null==this._prop)return null;a={};d=this._prop;for(b in d)c=d[b],a[b]="object"===typeof c?this.to_JSON.call(c):this[b];return a};return a}()}).call(this);
